# US 6.1.3 - Sync the 3D visualization with the planning module

As **healthcare staff** I want the information shown on the 3D visualization module about room availability is in sync with the schedule that was generated by the planning module.

## 1. Context

This **US** is one of the syncing USs of the **Frontend** module.

## 2. Requirements

### 2.1. Acceptance Criteria

1. The information shown on the 3D visualization module should, somehow, be in sync with the planning module.

### 2.2. Dependencies

No dependencies

### 2.3. Pre-Conditions

None

### 2.4. Open Questions

**Question 1:** As was stated previously, the number of rooms in the 3D representation must be consistent with the number of rooms that can be scheduled in the Planning/Optimization Module.

However, let's say that, while we have the 3D representation open, someone creates a new Surgery Room. Must that new room be loaded dynamically?

**Answer 1:** it is not necessary to do it "hot wired".
the next time the 3D view is loaded it should pickup the new surgery room.
keep in mind that creating a new surgery room is not something that happens frequently...

**Question 2:** The Admin has access to both methods, but both decide the room schedules, therefore affecting the room availability.

Is there a way to know which method is used to actually determine the room availability and operation scheduling, so that the data in the 3D visualization module is in sync with the Planning module?

**Answer 2:** the user can select which method to use to generate the schedule of a certain time-period. after the schedule is generated, the data about room availability for those days must be updated.
if the user runs the the scheduling again for the same time period, using a different algorithm or not, the new/updated schedule must be used to update the room's availability

**Question 3:** What information is expected to come from the planning module that is to be visualized in the 3D representation? Do we assume that, at the moment, the only information that is showned is the room ID and a human in the surgical table if the room is currently being occupied?

**Answer 3:** the system must show if the room is occupied or not. the occupancy of a room is a result of the scheduling done by the planning module.
if a room is occupied, the system must show a 3D human model and a tooltip with the informaiton about the surgery type and operation request. preferably, the tooltip should act as a link to the operation detail page where the user can see all the details of the operation.

The user must have a way to "set" the current time of the visualization. that is, the 3D visualization module must not depend directly on the PC clock

## 3. Analysis

As specified by the **Acceptance Criteria**, the team should make it so, somehow, the information shown in the 3D visualization module (USs 6.5.x) should be in sync with the information generated in the Planning module (USs 6.3.x).

## 4. Design

The team decided that:
* The information generated by the Planning module ends up in the Backend, as it's not feasable to run the entire Planning module everytime someone opens the 3D visualization module.
    * Hence, the 3D visualization module gets its information from the Backend.

## 5. Demonstration

*Not applicable*
